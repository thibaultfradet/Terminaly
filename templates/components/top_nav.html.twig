<!-- Top Navigation -->
<div class="d-flex align-items-center justify-content-between mb-3 flex-shrink-0 p-2 border-bottom bg-white shadow-sm rounded">
    <div class="d-flex align-items-center gap-3">
        <button class="btn" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu">
            {{ ux_icon('material-symbols:menu', { style: 'width:24px; height:24px;' }) }}
        </button>
        <div class="fs-5 fw-semibold" id="current-date"></div>
    </div>
    <div class="fs-5 fw-semibold" id="current-time"></div>
</div>

<!-- Sidebar -->
<div class="offcanvas offcanvas-start" tabindex="-1" id="sidebarMenu" aria-labelledby="sidebarMenuLabel">
    <div class="offcanvas-header border-bottom">
        <h2 class="offcanvas-title" id="sidebarMenuLabel">Menu</h2>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body d-flex flex-column justify-content-between p-0">
        <ul class="list-unstyled m-0 p-3">
            <li class="mb-2">
                <a href="/" class="d-flex align-items-center gap-2 text-decoration-none text-dark p-2 rounded hover-bg-light {% if app.request.getPathInfo() == '/' %}bg-light{% endif %}">
                    {{ ux_icon('streamline-freehand:cash-payment-bill', { style: 'width:24px; height:24px;' }) }}
                    Encaisser
                </a>
            </li>
            <li class="mb-2">
                <a href="/statistiques" class="d-flex align-items-center gap-2 text-decoration-none text-dark p-2 rounded hover-bg-light {% if app.request.getPathInfo() == '/statistiques' %}bg-light{% endif %}">
                    {{ ux_icon('mdi:chart-line', { style: 'width:24px; height:24px;' }) }}
                    Statistiques
                </a>
            </li>
            <li class="mb-2">
                <a href="/sales-owing" class="d-flex align-items-center gap-2 text-decoration-none text-dark p-2 rounded hover-bg-light {% if app.request.getPathInfo() == '/' %}bg-light{% endif %}">
                    {{ ux_icon('fluent-mdl2:blowing-snow', { style: 'width:24px; height:24px;' }) }}
                    Dû non payé
                </a>
            </li>
            <li class="mb-2">
                <a href="/product" class="d-flex align-items-center gap-2 text-decoration-none text-dark p-2 rounded hover-bg-light {% if app.request.getPathInfo() == '/product' %}bg-light{% endif %}">
                    {{ ux_icon('icon-park:ad-product', { style: 'width:24px; height:24px;' }) }}
                    Produits
                </a>
            </li>
            <li class="mb-2">
                <a href="/category" class="d-flex align-items-center gap-2 text-decoration-none text-dark p-2 rounded hover-bg-light {% if app.request.getPathInfo() == '/category' %}bg-light{% endif %}">
                    {{ ux_icon('material-symbols:tag', { style: 'width:24px; height:24px;' }) }}
                    Catégories
                </a>
            </li>
        </ul>
        <div class="p-3 border-top">
            <a href="/logout" class="btn btn-danger w-100 d-flex align-items-center justify-content-center gap-2">
                {{ ux_icon('material-symbols:logout', { style: 'width:24px; height:24px;' }) }}
                Déconnexion
            </a>
        </div>
    </div>
</div>

<script>
// top_nav.js
function updateDateTime() {
    const now = new Date();
    const date = now.toLocaleDateString('fr-FR', { weekday: 'short', day: '2-digit', month: 'short', year: 'numeric' });
    const time = now.toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' });

    const dateEl = document.getElementById('current-date');
    const timeEl = document.getElementById('current-time');

    if (dateEl) dateEl.textContent = date;
    if (timeEl) timeEl.textContent = time;
}

updateDateTime();
setInterval(updateDateTime, 60000);
</script>